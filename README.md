Это попытка выполнить тестовое задание на Java junior компании OOO Инсайд 24 




Описание вакансии:
Требуемый опыт работы: 1–3 года

Частичная занятость, удаленная работа

Возможно временное оформление: договор услуг, подряда, ГПХ, самозанятые, ИП

Описание работодателя:

Наша команда разрабатывает программное решение для финансового сектора .

Обязанности:

Написание модульных тестов ;
Генерация тестовых данных ;
Проведение интеграционных тестов ;
Оформление баг-репортов в баг-трекинговой системе gitlab;
Взаимодействие с разработчиками ;

Требуемые навыки :

Навыки программирования на языке Java ;
Понимание протокола HTTP: значений кодов ответа, заголовков запроса/ответа, различных форматов тела запроса/ответа ;
Знания MySQL , MongoDB и Doker ;
Умение работать с git (gitlab/github);
Высокая обучаемость;
Технический английский ;

Условия :

Постоянное удаленное сотрудничество;
Оклад или сдельная оплата труда;
Свободный график;
Карьерный рост по результатам работы;
Стабильные выплаты 2 раза в месяц или за каждую выполненную задачу;
Возможно оформление: договор услуг, подряда, ГПХ, самозанятые, ИП.





Тестовое задание:
В БД создать пару sql табличек со связями (foreign keys)

Сделать HTTP POST эндпоинт который получает данные в json вида :
{
   name: "имя отправителя"
   password: "пароль"
}
этот эндпоинт проверяет пароль по БД и создает jwt токен (срок действия токена и алгоритм подписи не принципиален, для генерации и работе с токеном можно использовать готовую библиотечку) в токен записывает данные: name: "имя отправителя"
и отправляет токен в ответ, тоже json вида:
{
   token: "тут сгенерированный токен"
}

Сервер слушает и отвечает в какой-нибудь эндпоинт в него на вход поступают данные в формате json:
Сообщения клиента-пользователя:
{
   name:       "имя отправителя",
   message:    "текст сообщение"
}
В заголовках указан Bearer токен (полученный из эндпоинта выше)
Проверить токен, в случае успешной проверки токена, полученное сообщение сохранить в БД.

Если пришло сообщение вида:
{
   name:       "имя отправителя",
   message:    "history 10"
}
проверить токен, в случае успешной проверки токена отправить отправителю 10 последних сообщений из БД

Добавить описание и инструкцию по запуску и комментарии в коде, если изменяете формат сообщений, то подробное описание ендпоинтов и их полей.

Завернуть все компоненты в докер.

Моя реализация задания выложена здесь.






Описание реализации:

Данное решение принимает на входе(TCP port 8080) HTTP POST запрос с телом в JSON виде
{
   name: "имя отправителя"
   password: "пароль"
}

Проводит авторизацию через БД к выделенному серверу MySQL(5277.ru, TCP 3306), в которой заведены пользователи:
kostas, пароль 123321
test, пароль 123321

После успешной авторизации создает JWT токен:
{"alg":"HS256","typ":"JWT"}
{"name":"kostas","exp":1639467547}
{...}

и передает его в JSON'е:
{
   token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoia29zdGFzIiwiZXhwIjoxNjM5NDY3NTQ3fQ.ylHOqcr1Nj-_KZKhJZFiOJCDPZ-wwtGGwNm4yrp7Z-o"
}

Также сервер слушает запросы на добавление собщения, тело запроса:
{
   name:       "имя отправителя",
   message:    "текст сообщение"
}

И просмотр 10 последних сообщений, тело запроса:
{
   name:       "имя отправителя",
   message:    "history 10"
}

В обоих случаях должен быть предоставлен в хидере AUTHORIZATION Bearer с полученным при авторизации токеном.

Больше деталей можно узнать посмотрев класс MainTest.java


Для запуска контейнера необходимо выполнить docker run -p8080:8080 w5277c/inside_test_task





Результат:
Задание не выполнено, сервси не работает. На вопрос, на базе чего получен такой вывод, получен ответ в виде скриншота answer.png


Дельнейшее общение не заладилось.
